{"ast":null,"code":"import _toConsumableArray from\"/Users/bohdanbudak/React_Projects/internet-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/bohdanbudak/React_Projects/internet-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from\"react-redux\";import injectSheet from\"react-jss\";import styles from\"./CardStyle\";import Button from'../Button/Button';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faStar}from'@fortawesome/free-solid-svg-icons';import Modal from\"../Modal/Modal\";import LocalStorage from'../../services/LocalStorage';import*as favouriteListActions from\"../../store/actions/FavouriteListActions\";import*as cartListActions from\"../../store/actions/CartListActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(props){var data=props.data,classes=props.classes,toggleModal=props.toggleModal;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),favourite=_useState2[0],setFavourite=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),itemInCart=_useState4[0],setItemInCart=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isModalOpen=_useState6[0],setIsModalOpen=_useState6[1];var favouriteList=useSelector(function(state){return state.favouriteListReducer.favouriteList;});var cartList=useSelector(function(state){return state.cartListReducer.cartList;});var dispatch=useDispatch();useEffect(function(){if(favouriteList){var elem=favouriteList.find(function(element){return element.article===data.article;});if(elem){setFavourite(true);}}},[data.article,favouriteList]);useEffect(function(){if(cartList){var elem=cartList.find(function(element){return element.article===data.article;});if(elem){setItemInCart(true);}}},[data.article,cartList]);var handleClickToCart=function handleClickToCart(){LocalStorage.postCardToLocalStorage('cart',data);dispatch(cartListActions.addItem(data));setItemInCart(!itemInCart);handleToggleModal();};var handleDeleteFromCart=function handleDeleteFromCart(){LocalStorage.deleteCardFromLocalStorage('cart',data.article);setItemInCart(!itemInCart);var newList=cartList.filter(function(elem){return elem.article!==data.article;});dispatch(cartListActions.updateList(_toConsumableArray(newList)));handleToggleModal();};var handleClickToFavourite=function handleClickToFavourite(){if(!favourite){LocalStorage.postCardToLocalStorage('favourite',data);dispatch(favouriteListActions.addItem(data));}else{LocalStorage.deleteCardFromLocalStorage('favourite',data.article);var newList=favouriteList.filter(function(elem){return elem.article!==data.article;});dispatch(favouriteListActions.updateList(_toConsumableArray(newList)));}handleToggleFavourite();};var handleToggleFavourite=function handleToggleFavourite(){setFavourite(!favourite);};var handleToggleModal=function handleToggleModal(){setIsModalOpen(!toggleModal());};var iconFavourite=/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar});var buttonsDefaultModal=[/*#__PURE__*/_jsx(Button,{width:100,height:50,fontSize:16,additionClass:\"btnOk\",text:\"Ok\",onClick:handleClickToCart},\"1\"),/*#__PURE__*/_jsx(Button,{width:100,height:50,fontSize:16,additionClass:\"btnCancel\",text:\"Cancel\",onClick:handleToggleModal},\"2\")];var buttonsDeleteModal=[/*#__PURE__*/_jsx(Button,{width:100,height:50,fontSize:16,additionClass:\"btnOk\",text:\"Ok\",onClick:handleDeleteFromCart},\"1\"),/*#__PURE__*/_jsx(Button,{width:100,height:50,fontSize:16,additionClass:\"btnCancel\",text:\"Cancel\",onClick:handleToggleModal},\"2\")];return/*#__PURE__*/_jsxs(\"div\",{className:classes.card,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.cardImage,src:data.url,alt:data.name,width:\"100\"}),/*#__PURE__*/_jsx(\"h3\",{className:classes.cardTitle,children:data.name}),/*#__PURE__*/_jsxs(\"p\",{className:classes.cardArticle,children:[\"Article: \",data.article]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.cardPrice,children:[data.price,\" $\"]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.cardButtonsContainer,children:[/*#__PURE__*/_jsx(Button,{width:35,height:35,fontSize:16,additionClass:favourite?\"btnToggleFavouriteTrue\":\"btnToggleFavouriteFalse\",type:\"button\",text:iconFavourite,onClick:handleClickToFavourite}),!itemInCart&&/*#__PURE__*/_jsx(Button,{width:130,height:50,fontSize:16,additionClass:\"btnAddToCard\",type:\"button\",text:\"Add to Card\",onClick:handleToggleModal}),isModalOpen&&!itemInCart&&/*#__PURE__*/_jsx(Modal,{header:\"Are yor sure?\",closeButton:true,text:\"Do you want to add this product to the cart?\",actions:buttonsDefaultModal,onClose:handleToggleModal}),itemInCart&&/*#__PURE__*/_jsx(Button,{width:130,height:50,fontSize:16,additionClass:\"btnRemove\",type:\"button\",text:\"Remove\",onClick:handleToggleModal}),isModalOpen&&itemInCart&&/*#__PURE__*/_jsx(Modal,{header:\"Are yor sure?\",closeButton:true,text:\"Do you want to remove this product from the cart?\",actions:buttonsDeleteModal,onClose:handleToggleModal})]})]});}export default injectSheet(styles)(Card);","map":{"version":3,"sources":["/Users/bohdanbudak/React_Projects/internet-store/src/components/Card/Card.js"],"names":["React","useEffect","useState","useDispatch","useSelector","injectSheet","styles","Button","FontAwesomeIcon","faStar","Modal","LocalStorage","favouriteListActions","cartListActions","Card","props","data","classes","toggleModal","favourite","setFavourite","itemInCart","setItemInCart","isModalOpen","setIsModalOpen","favouriteList","state","favouriteListReducer","cartList","cartListReducer","dispatch","elem","find","element","article","handleClickToCart","postCardToLocalStorage","addItem","handleToggleModal","handleDeleteFromCart","deleteCardFromLocalStorage","newList","filter","updateList","handleClickToFavourite","handleToggleFavourite","iconFavourite","buttonsDefaultModal","buttonsDeleteModal","card","cardImage","url","name","cardTitle","cardArticle","cardPrice","price","cardButtonsContainer"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport injectSheet from \"react-jss\";\nimport styles from \"./CardStyle\";\nimport PropTypes from 'prop-types';\nimport Button from '../Button/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\nimport Modal from \"../Modal/Modal\";\nimport LocalStorage from '../../services/LocalStorage';\nimport * as favouriteListActions from \"../../store/actions/FavouriteListActions\";\nimport * as cartListActions from \"../../store/actions/CartListActions\";\n\nfunction Card(props) {\n\n    const {data, classes, toggleModal} = props;\n    const [favourite, setFavourite] = useState(false);\n    const [itemInCart, setItemInCart] = useState(false);\n    const [isModalOpen, setIsModalOpen] = useState(false);\n\n    const favouriteList = useSelector(state => state.favouriteListReducer.favouriteList);\n    const cartList = useSelector(state => state.cartListReducer.cartList);\n    const dispatch = useDispatch();\n\n    useEffect( () => {\n        if (favouriteList) {\n            const elem = favouriteList.find(element => {return element.article === data.article});\n            if (elem) {\n                setFavourite(true);\n            }\n        }\n    }, [data.article, favouriteList]);\n\n    useEffect( () => {\n        if (cartList) {\n            const elem = cartList.find(element => {return element.article === data.article});\n            if (elem) {\n                setItemInCart(true);\n            }\n        }\n    }, [data.article, cartList]);\n\n    const handleClickToCart = () => {\n        LocalStorage.postCardToLocalStorage('cart', data);\n        dispatch(cartListActions.addItem(data));\n        setItemInCart(!itemInCart);\n        handleToggleModal();\n    };\n\n    const handleDeleteFromCart = () => {\n        LocalStorage.deleteCardFromLocalStorage('cart', data.article);\n        setItemInCart(!itemInCart);\n\n        const newList = cartList.filter(elem => elem.article !== data.article);\n        dispatch(cartListActions.updateList([...newList]));\n\n        handleToggleModal();\n    };\n\n    const handleClickToFavourite = () => {\n        if(!favourite) {\n            LocalStorage.postCardToLocalStorage('favourite', data);\n            dispatch(favouriteListActions.addItem(data));\n        } else {\n            LocalStorage.deleteCardFromLocalStorage('favourite', data.article);\n            const newList = favouriteList.filter(elem => elem.article !== data.article);\n            dispatch(favouriteListActions.updateList([...newList]));\n        }\n\n        handleToggleFavourite();\n    };\n\n    const handleToggleFavourite = () => {\n        setFavourite(!favourite);\n    };\n\n    const handleToggleModal = () => {\n        setIsModalOpen(!toggleModal());\n    };\n\n    const iconFavourite = <FontAwesomeIcon icon={faStar}/>;\n\n    const buttonsDefaultModal = [\n        <Button key=\"1\" width={100} height={50} fontSize={16} additionClass=\"btnOk\" text=\"Ok\" onClick={handleClickToCart}/>,\n        <Button key=\"2\" width={100} height={50} fontSize={16} additionClass=\"btnCancel\" text=\"Cancel\" onClick={handleToggleModal}/>\n    ];\n    const buttonsDeleteModal = [\n        <Button key=\"1\" width={100} height={50} fontSize={16} additionClass=\"btnOk\" text=\"Ok\" onClick={handleDeleteFromCart}/>,\n        <Button key=\"2\" width={100} height={50} fontSize={16} additionClass=\"btnCancel\" text=\"Cancel\" onClick={handleToggleModal}/>\n    ];\n\n    return(\n\n        <div className={classes.card}>\n            <img className={classes.cardImage} src={data.url} alt={data.name} width=\"100\"/>\n            <h3 className={classes.cardTitle}>\n                {data.name}\n            </h3>\n            <p className={classes.cardArticle}>\n                Article: {data.article}\n            </p>\n            <div className={classes.cardPrice}>\n                {data.price} $\n            </div>\n            <div className={classes.cardButtonsContainer}>\n                <Button width={35} height={35} fontSize={16} additionClass={favourite ? \"btnToggleFavouriteTrue\" : \"btnToggleFavouriteFalse\"}\n                        type=\"button\"\n                        text={iconFavourite}\n                        onClick={handleClickToFavourite}/>\n                {!itemInCart && <Button width={130} height={50} fontSize={16} additionClass=\"btnAddToCard\"\n                                        type=\"button\"\n                                        text=\"Add to Card\"\n                                        onClick={handleToggleModal}/>}\n                {isModalOpen && !itemInCart && <Modal header=\"Are yor sure?\"\n                                                      closeButton={true}\n                                                      text=\"Do you want to add this product to the cart?\"\n                                                      actions={buttonsDefaultModal}\n                                                      onClose={handleToggleModal}/>}\n                {itemInCart && <Button width={130} height={50} fontSize={16} additionClass=\"btnRemove\"\n                                       type=\"button\"\n                                       text=\"Remove\"\n                                       onClick={handleToggleModal}/>}\n                {isModalOpen && itemInCart && <Modal header=\"Are yor sure?\"\n                                                     closeButton={true}\n                                                     text=\"Do you want to remove this product from the cart?\"\n                                                     actions={buttonsDeleteModal}\n                                                     onClose={handleToggleModal}/>}\n            </div>\n        </div>\n    );\n}\n\nCard.propTypes = {\n    data: PropTypes.object,\n    classes: PropTypes.object,\n    toggleModal: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.bool\n    ]),\n\n};\nexport default injectSheet(styles)(Card);"]},"metadata":{},"sourceType":"module"}