{"ast":null,"code":"import _slicedToArray from \"/Users/bohdanbudak/React_Projects/internet-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/bohdanbudak/React_Projects/internet-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/bohdanbudak/React_Projects/internet-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/bohdanbudak/React_Projects/internet-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport Reference from '../Reference';\n\nvar ReferenceSet = /*#__PURE__*/function () {\n  function ReferenceSet() {\n    _classCallCheck(this, ReferenceSet);\n\n    this.list = new Set();\n    this.refs = new Map();\n  }\n\n  _createClass(ReferenceSet, [{\n    key: \"size\",\n    get: function get() {\n      return this.list.size + this.refs.size;\n    }\n  }, {\n    key: \"describe\",\n    value: function describe() {\n      var description = [];\n\n      var _iterator = _createForOfIteratorHelper(this.list),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          description.push(item);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(this.refs),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _step2$value = _slicedToArray(_step2.value, 2),\n              ref = _step2$value[1];\n\n          description.push(ref.describe());\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return description;\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      return Array.from(this.list).concat(Array.from(this.refs.values()));\n    }\n  }, {\n    key: \"add\",\n    value: function add(value) {\n      Reference.isRef(value) ? this.refs.set(value.key, value) : this.list.add(value);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(value) {\n      Reference.isRef(value) ? this.refs.delete(value.key) : this.list.delete(value);\n    }\n  }, {\n    key: \"has\",\n    value: function has(value, resolve) {\n      if (this.list.has(value)) return true;\n      var item,\n          values = this.refs.values();\n\n      while (item = values.next(), !item.done) {\n        if (resolve(item.value) === value) return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var next = new ReferenceSet();\n      next.list = new Set(this.list);\n      next.refs = new Map(this.refs);\n      return next;\n    }\n  }, {\n    key: \"merge\",\n    value: function merge(newItems, removeItems) {\n      var next = this.clone();\n      newItems.list.forEach(function (value) {\n        return next.add(value);\n      });\n      newItems.refs.forEach(function (value) {\n        return next.add(value);\n      });\n      removeItems.list.forEach(function (value) {\n        return next.delete(value);\n      });\n      removeItems.refs.forEach(function (value) {\n        return next.delete(value);\n      });\n      return next;\n    }\n  }]);\n\n  return ReferenceSet;\n}();\n\nexport { ReferenceSet as default };","map":{"version":3,"sources":["/Users/bohdanbudak/React_Projects/internet-store/node_modules/yup/es/util/ReferenceSet.js"],"names":["Reference","ReferenceSet","list","Set","refs","Map","size","description","item","push","ref","describe","Array","from","concat","values","value","isRef","set","key","add","delete","resolve","has","next","done","newItems","removeItems","clone","forEach"],"mappings":"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","sourcesContent":["import Reference from '../Reference';\nexport default class ReferenceSet {\n  constructor() {\n    this.list = new Set();\n    this.refs = new Map();\n  }\n\n  get size() {\n    return this.list.size + this.refs.size;\n  }\n\n  describe() {\n    const description = [];\n\n    for (const item of this.list) description.push(item);\n\n    for (const [, ref] of this.refs) description.push(ref.describe());\n\n    return description;\n  }\n\n  toArray() {\n    return Array.from(this.list).concat(Array.from(this.refs.values()));\n  }\n\n  add(value) {\n    Reference.isRef(value) ? this.refs.set(value.key, value) : this.list.add(value);\n  }\n\n  delete(value) {\n    Reference.isRef(value) ? this.refs.delete(value.key) : this.list.delete(value);\n  }\n\n  has(value, resolve) {\n    if (this.list.has(value)) return true;\n    let item,\n        values = this.refs.values();\n\n    while (item = values.next(), !item.done) if (resolve(item.value) === value) return true;\n\n    return false;\n  }\n\n  clone() {\n    const next = new ReferenceSet();\n    next.list = new Set(this.list);\n    next.refs = new Map(this.refs);\n    return next;\n  }\n\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.list.forEach(value => next.add(value));\n    newItems.refs.forEach(value => next.add(value));\n    removeItems.list.forEach(value => next.delete(value));\n    removeItems.refs.forEach(value => next.delete(value));\n    return next;\n  }\n\n}"]},"metadata":{},"sourceType":"module"}